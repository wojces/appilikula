(function(){"use strict";var e={9447:function(e,l,a){var s=a(9242),t=a(3396);const r={class:"navbar navbar-expand-lg bg-secondary"},o={class:"container-fluid"},u={class:"navbar-brand",href:"#"},n=(0,t._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navmenu","aria-cotrols":"navmenu","aria-expanded":"true"},[(0,t._)("span",{class:"navbar-toggler-icon"})],-1),i={class:"collapse navbar-collapse",id:"navmenu"},c={class:"navbar-nav ms-auto"},p={class:"nav-item dropdown"},d=(0,t._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Liga ",-1),v={class:"dropdown-menu"},y={class:"nav-item dropdown"},_=(0,t._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Puchar ",-1),m={class:"dropdown-menu"},g={class:"nav-item dropdown"},h=(0,t._)("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Grupa + Play-Off ",-1),b={class:"dropdown-menu"},f={class:"p-5"},w={class:"container"};function k(e,l){const a=(0,t.up)("router-link"),s=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("nav",r,[(0,t._)("div",o,[(0,t._)("a",u,[(0,t.Wm)(a,{class:"link-dark link-opacity-50-hover",to:"/"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Appilikula ")])),_:1})]),n,(0,t._)("div",i,[(0,t._)("ul",c,[(0,t._)("li",p,[d,(0,t._)("ul",v,[(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/league"},{default:(0,t.w5)((()=>[(0,t.Uk)("Zagraj ")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/league/list"},{default:(0,t.w5)((()=>[(0,t.Uk)("Lista")])),_:1})])])]),(0,t._)("li",y,[_,(0,t._)("ul",m,[(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/cup"},{default:(0,t.w5)((()=>[(0,t.Uk)("Zagraj")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/cup/list"},{default:(0,t.w5)((()=>[(0,t.Uk)("Lista")])),_:1})])])]),(0,t._)("li",g,[h,(0,t._)("ul",b,[(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/group-play-off"},{default:(0,t.w5)((()=>[(0,t.Uk)("Zagraj")])),_:1})]),(0,t._)("li",null,[(0,t.Wm)(a,{class:"dropdown-item",to:"/group-play-off/list"},{default:(0,t.w5)((()=>[(0,t.Uk)("Lista")])),_:1})])])])])])])]),(0,t._)("section",f,[(0,t._)("div",w,[(0,t.Wm)(s)])])],64)}var U=a(89);const V={},R=(0,U.Z)(V,[["render",k]]);var I=R,S=a(2483);const C=e=>((0,t.dD)("data-v-4c3ca6bd"),e=e(),(0,t.Cn)(),e),z={class:"container"},B={class:"row text-center mt-5"},x={class:"league col-md"},A={class:"card h-100 bg-dark text-light"},D={class:"card-body"},M=C((()=>(0,t._)("h3",{class:"card-title"},"Liga",-1))),P=C((()=>(0,t._)("p",{class:"card-text"}," Minimum 3 zespoły. Mecze rozgrywane każdy z każdym. Dwumecz jako opcja. ",-1))),G={class:"cup col-md"},N={class:"card h-100 bg-secondary text-light"},j={class:"card-body"},q=C((()=>(0,t._)("h3",{class:"card-title"},"Puchar",-1))),H=C((()=>(0,t._)("p",{class:"card-text"}," Rozgrywka dla 4, 8 lub 16 zespołów. Mecze rozgrywane w formie drabinki. ",-1))),F={class:"group col-md"},W={class:"card h-100 bg-dark text-light"},E={class:"card-body"},T=C((()=>(0,t._)("h3",{class:"card-title"},"Grupa + Play-Off",-1))),Z=C((()=>(0,t._)("p",{class:"card-text"}," Minimum 6 zespołów. Mecze rozgrywane w dwóch lub czterech grupach, następnie faza pucharowa. Dwumecz w grupie jako opcja. ",-1)));function O(e,l){const a=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",z,[(0,t._)("div",B,[(0,t._)("div",x,[(0,t._)("div",A,[(0,t._)("div",D,[M,P,(0,t.Wm)(a,{class:"btn btn-primary",to:"/league"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Zagraj ")])),_:1})])])]),(0,t._)("div",G,[(0,t._)("div",N,[(0,t._)("div",j,[q,H,(0,t.Wm)(a,{class:"btn btn-dark",to:"/cup"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Zagraj ")])),_:1})])])]),(0,t._)("div",F,[(0,t._)("div",W,[(0,t._)("div",E,[T,Z,(0,t.Wm)(a,{class:"btn btn-primary",to:"/group-play-off"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Zagraj ")])),_:1})])])])])])}const Y={},K=(0,U.Z)(Y,[["render",O],["__scopeId","data-v-4c3ca6bd"]]);var J=K,L=(a(7658),a(4870)),$=a(1509);a(8981);const X={apiKey:"AIzaSyDP3wjBls9zo7HYVup2fMtwy7wjKGCZiB8",authDomain:"appilikula.firebaseapp.com",databaseURL:"https://appilikula-default-rtdb.europe-west1.firebasedatabase.app",projectId:"appilikula",storageBucket:"appilikula.appspot.com",messagingSenderId:"890125420902",appId:"1:890125420902:web:cb8afc1a81bd505361e0a7"};var Q=X;const ee={apiKey:Q.apiKey,authDomain:Q.authDomain,databaseURL:Q.databaseURL,projectId:Q.projectId,storageBucket:Q.storageBucket,messagingSenderId:Q.messagingSenderId,appId:Q.appId},le=$.Z.initializeApp(ee);var ae=le.firestore(),se=a(9232);function te(e){for(let l=e.length-1;l>0;l--){const a=Math.floor(Math.random()*(l+1));[e[l],e[a]]=[e[a],e[l]]}}var re=te;const oe=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Liga")],-1),ue={class:"tournament-name text-start my-5"},ne=(0,t._)("label",{for:"tournamentName",class:"form-label fw-bold"},"Nazwa turnieju",-1),ie={class:"players text-start"},ce=(0,t._)("label",{for:"players",class:"form-label fw-bold"},"Gracze",-1),pe={class:"player-input p-0 my-3"},de={class:"col-11"},ve=["onUpdate:modelValue"],ye={key:0,class:"col-1"},_e={key:1,class:"col-1"},me=["onClick"],ge={class:"add-plyer-input text-center"},he=["disabled"],be={class:"second-match form-check text-start my-3"},fe=(0,t._)("label",{class:"form-check-label fw-bold",for:"secondMatch"}," Dwumecz ",-1),we={class:"create-tournament"},ke=["onClick"];var Ue=(0,t.aZ)({__name:"AddLeague",setup(e){const l=(0,se.hJ)(ae,"league"),a=(0,L.iH)(null);let r=(0,L.iH)(""),o=(0,L.iH)(!1),u=(0,L.iH)(["","",""]),n=(0,L.iH)([]),i="tqH9guVSEhrST0syb5Q0",c=(0,t.Fl)((()=>20==u.value.length));function p(){u.value.length<20&&u.value.push("")}function d(e){u.value.splice(e,1)}function v(){let e=[],l=[];if(u.value.forEach(((l,a)=>{for(let s=a+1;s<u.value.length;s++){let a={player_a:l,player_b:u.value[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};e.push(a)}})),re(e),!0===o.value)for(let a=0;a<e.length;a++){const s=e[a];l.push({...s,player_a:s.player_b,player_b:s.player_a})}n.value=e.concat(l)}async function y(){if(a.value&&!a.value.checkValidity())return void a.value.reportValidity();v();const e=await(0,se.ET)(l,{date:$.Z.firestore.FieldValue.serverTimestamp(),name:r.value,second_match:o.value,matches:n.value,players:u.value,user_uuid:i,is_completed:!1}),s=e.id;Ur.push("/league/"+s)}return(e,l)=>((0,t.wg)(),(0,t.iD)("form",{ref_key:"form",ref:a,class:"container p-5 border"},[oe,(0,t._)("div",ue,[ne,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control my-3",id:"tournamentName",placeholder:"Podaj nazwę turnieju...","onUpdate:modelValue":l[0]||(l[0]=e=>(0,L.dq)(r)?r.value=e:r=e),required:""},null,512),[[s.nr,(0,L.SU)(r)]])]),(0,t._)("div",ie,[ce,(0,t._)("ul",pe,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u),((e,l)=>((0,t.wg)(),(0,t.iD)("li",{class:"row my-2",key:l},[(0,t._)("div",de,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"players",placeholder:"Podaj imię gracza...","onUpdate:modelValue":e=>(0,L.SU)(u)[l]=e,required:""},null,8,ve),[[s.nr,(0,L.SU)(u)[l]]])]),l<=2?((0,t.wg)(),(0,t.iD)("div",ye)):((0,t.wg)(),(0,t.iD)("div",_e,[(0,t._)("button",{type:"button",class:"btn btn btn-secondary",onClick:e=>d(l)}," X ",8,me)]))])))),128))]),(0,t._)("div",ge,[(0,t._)("button",{disabled:(0,L.SU)(c),type:"button",class:"btn btn btn-secondary my-3",onClick:p}," Dodaj gracza ",8,he)])]),(0,t._)("div",be,[fe,(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",id:"secondMatch","onUpdate:modelValue":l[1]||(l[1]=e=>(0,L.dq)(o)?o.value=e:o=e)},null,512),[[s.e8,(0,L.SU)(o)]])]),(0,t._)("div",we,[(0,t._)("button",{onClick:(0,s.iM)(y,["prevent"]),type:"submit",class:"btn btn-secondary"}," Utwórz turniej ",8,ke)])],512))}});const Ve=Ue;var Re=Ve,Ie=a(7139);function Se(e){const l=e,a=new Date(1e3*l),s=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),r=a.getFullYear(),o=s+"."+t+"."+r;return o}var Ce=Se;const ze={class:"container p-5 border"},Be=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Turnieje ligowe")],-1),xe={class:"list my-5"},Ae=(0,t.uE)('<div class="row fw-bold my-3"><div class="col-2">nazwa</div><div class="col-2">data utworzenia</div><div class="col-3">id turnieju</div><div class="col-2">utworzył</div><div class="col-1">liczba graczy</div><div class="col-2">status</div></div>',1),De={class:"col-2"},Me={class:"col-2"},Pe={class:"col-3"},Ge={class:"col-2"},Ne={class:"col-1"},je={class:"col-2"};var qe=(0,t.aZ)({__name:"LeagueList",setup(e){let l=(0,L.iH)([]),a=(0,L.iH)([]);const s=(0,se.hJ)(ae,"league"),r=(0,se.hJ)(ae,"users"),o=(0,se.IO)(s,(0,se.Xo)("date","desc"));function u(){(0,se.cf)(r,(e=>{e.forEach((e=>{const a={id:e.id,name:e.data().name,email:e.data().email};l.value.push(a)}))}))}function n(){(0,se.cf)(o,(e=>{const s=[];e.forEach((e=>{const a={name:e.data().name,date:Ce(e.data().date?.seconds),id:e.id,user:l.value.find((l=>l.id===e.data().user_uuid)),playersNumber:e.data().players.length,isCompleted:e.data().is_completed};s.push(a)})),a.value=s}))}return(0,t.bv)((async()=>{u(),n()})),(e,l)=>{const s=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",ze,[Be,(0,t._)("div",xe,[Ae,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(a),((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"row my-1",key:l},[(0,t._)("div",De,(0,Ie.zw)(e.name),1),(0,t._)("div",Me,(0,Ie.zw)(e.date),1),(0,t._)("div",Pe,[(0,t.Wm)(s,{to:e.id},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Ie.zw)(e.id),1)])),_:2},1032,["to"])]),(0,t._)("div",Ge,(0,Ie.zw)(e.user?.name),1),(0,t._)("div",Ne,(0,Ie.zw)(e.playersNumber),1),(0,t._)("div",je,(0,Ie.zw)(e.isCompleted?"zakończony":"aktywny"),1)])))),128))])])}}});const He=qe;var Fe=He;const We={key:0,class:"container p-5 border"},Ee={class:"title"},Te={class:"d-flex flex-row gap-3 description"},Ze={class:"table my-5"},Oe=(0,t._)("h5",{class:"fw-bold mb-4"},"Tabela",-1),Ye={class:"table table-league"},Ke=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",{scope:"col"},"#"),(0,t._)("th",{scope:"col"},"Drużyna"),(0,t._)("th",{scope:"col"},"M"),(0,t._)("th",{scope:"col"},"W"),(0,t._)("th",{scope:"col"},"R"),(0,t._)("th",{scope:"col"},"P"),(0,t._)("th",{scope:"col"},"B"),(0,t._)("th",{scope:"col"},"RB"),(0,t._)("th",{scope:"col"},"P")])],-1),Je={scope:"row"},Le={class:"fw-bold"},$e={class:"matches my-5"},Xe=(0,t.uE)('<h5 class="fw-bold mb-4">Mecze</h5><div class="row fw-bold my-3"><div class="col-1">#</div><div class="col-3">Gracz A</div><div class="col-2">Wynik Gracza A</div><div class="col-3">Gracz B</div><div class="col-2">Wynik Gracza B</div><div class="col-1"></div></div>',2),Qe={class:"col-1"},el={class:"col-3"},ll={class:"col-2"},al=["onUpdate:modelValue","disabled","onBlur"],sl={class:"col-3"},tl={class:"col-2"},rl=["onUpdate:modelValue","disabled","onBlur"],ol={class:"col-1"},ul={key:0},nl=["onClick"],il=["onClick"],cl={key:0,class:"error-message col-12 my-1"},pl=(0,t._)("span",{class:"text-danger"}," Nie wprowadzono wyniku lub wprowadzono niepoprawny wynik ",-1),dl=[pl],vl={class:"end-button"};var yl=(0,t.aZ)({__name:"LeagueTournament",setup(e){const l=(0,se.hJ)(ae,"league"),a=(0,se.hJ)(ae,"users");let r="";const o=(0,S.yj)();let u=(0,L.iH)({}),n=(0,L.iH)([]),i=(0,L.iH)([]),c=(0,L.iH)(!1),p=(0,L.iH)(!0),d=(0,L.iH)([]);function v(){let e=[];u.value.matches.forEach((()=>{let l={playerAResultIsValid:!0,playerBResultIsValid:!0};e.push(l)})),d.value=e}function y(e){return d.value[e].playerAResultIsValid?"":"border border-danger"}function _(e){return d.value[e].playerBResultIsValid?"":"border border-danger"}function m(e){p.value=!0,Number.isInteger(u.value.matches[e].player_a_score)||(p.value=!1,d.value[e].playerAResultIsValid=!1),Number.isInteger(u.value.matches[e].player_b_score)||(p.value=!1,d.value[e].playerBResultIsValid=!1)}function g(e){d.value[e].playerAResultIsValid=!0}function h(e){d.value[e].playerBResultIsValid=!0}function b(e){return 0===e?"table-warning":1===e?"table-secondary":2===e?"table-danger":void 0}function f(){const e=[];u.value.players.forEach((l=>{const a={name:l,matches:0,wins:0,draws:0,lost:0,scoredGoals:0,lostGoals:0,aggregateScore:0,points:0};e.push(a)})),i.value=e}function w(){u.value.matches.forEach((e=>{let l=i.value.findIndex((l=>l.name===e.player_a)),a=i.value.findIndex((l=>l.name===e.player_b));e.player_a_score>e.player_b_score?(i.value[l].matches++,i.value[l].wins++,i.value[l].scoredGoals=i.value[l].scoredGoals+e.player_a_score,i.value[l].lostGoals=i.value[l].lostGoals+e.player_b_score,i.value[a].matches++,i.value[a].lost++,i.value[a].scoredGoals=i.value[a].scoredGoals+e.player_b_score,i.value[a].lostGoals=i.value[a].lostGoals+e.player_a_score):e.player_a_score<e.player_b_score?(i.value[a].matches++,i.value[a].wins++,i.value[a].scoredGoals=i.value[a].scoredGoals+e.player_b_score,i.value[a].lostGoals=i.value[a].lostGoals+e.player_a_score,i.value[l].matches++,i.value[l].lost++,i.value[l].scoredGoals=i.value[l].scoredGoals+e.player_a_score,i.value[l].lostGoals=i.value[l].lostGoals+e.player_b_score):e.player_a_score===e.player_b_score&&(i.value[l].matches++,i.value[l].draws++,i.value[l].scoredGoals=i.value[l].scoredGoals+e.player_a_score,i.value[l].lostGoals=i.value[l].lostGoals+e.player_b_score,i.value[a].matches++,i.value[a].draws++,i.value[a].scoredGoals=i.value[a].scoredGoals+e.player_b_score,i.value[a].lostGoals=i.value[a].lostGoals+e.player_a_score),i.value[l].aggregateScore=i.value[l].scoredGoals-i.value[l].lostGoals,i.value[l].points=3*i.value[l].wins+1*i.value[l].draws,i.value[a].aggregateScore=i.value[a].scoredGoals-i.value[a].lostGoals,i.value[a].points=3*i.value[a].wins+1*i.value[l].draws})),i.value.sort(((e,l)=>e.points!==l.points?l.points-e.points:e.points===l.points&&e.aggregateScore===l.aggregateScore?l.scoredGoals-e.scoredGoals:l.aggregateScore-e.aggregateScore))}function k(e){m(e),p.value&&(u.value.matches[e].is_played=!0,c.value=u.value.matches.every((e=>!0===e.is_played)),"string"===typeof r&&V(r))}function U(e){u.value.matches[e].is_played=!1}async function V(e){await(0,se.r7)((0,se.JU)(l,e),{is_completed:u.value.isCompleted,matches:u.value.matches})}function R(){u.value.isCompleted=!0,"string"===typeof r&&V(r),c.value=!1,window.scrollTo(0,0)}function I(){(0,se.cf)(a,(e=>{e.forEach((e=>{const l={id:e.id,name:e.data().name,email:e.data().email};n.value.push(l)}))}))}function C(e){(0,se.cf)((0,se.JU)(ae,"league",e),(e=>{u.value={name:e.data()?.name,date:Ce(e.data()?.date?.seconds),id:e.id,user:n.value.find((l=>l.id===e.data()?.user_uuid)),matches:e.data()?.matches,players:e.data()?.players,isCompleted:e.data()?.is_completed},f(),w(),v()}))}return(0,t.bv)((async()=>{r=o.params.id,I(),"string"===typeof r&&C(r)})),(e,l)=>Object.keys((0,L.SU)(u))&&Object.keys((0,L.SU)(u)).length?((0,t.wg)(),(0,t.iD)("div",We,[(0,t._)("div",Ee,[(0,t._)("div",Te,[(0,t._)("p",null,"Data utworzenia: "+(0,Ie.zw)((0,L.SU)(u).date),1),(0,t._)("p",null,"Utworzył: "+(0,Ie.zw)((0,L.SU)(u).user?.name),1),(0,t._)("p",null," Status: "+(0,Ie.zw)((0,L.SU)(u).isCompleted?"Zakończony":"Aktywny"),1)]),(0,t._)("h1",null,"Turniej: "+(0,Ie.zw)((0,L.SU)(u).name),1)]),(0,t._)("div",Ze,[Oe,(0,t._)("table",Ye,[Ke,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(i),((e,l)=>((0,t.wg)(),(0,t.iD)("tr",{class:(0,Ie.C_)(b(l)),key:l},[(0,t._)("td",Je,(0,Ie.zw)(l+1),1),(0,t._)("td",null,(0,Ie.zw)(e.name),1),(0,t._)("td",null,(0,Ie.zw)(e.matches),1),(0,t._)("td",null,(0,Ie.zw)(e.wins),1),(0,t._)("td",null,(0,Ie.zw)(e.draws),1),(0,t._)("td",null,(0,Ie.zw)(e.lost),1),(0,t._)("td",null,(0,Ie.zw)(e.scoredGoals)+":"+(0,Ie.zw)(e.lostGoals),1),(0,t._)("td",null,(0,Ie.zw)(e.aggregateScore),1),(0,t._)("td",Le,(0,Ie.zw)(e.points),1)],2)))),128))])])]),(0,t._)("div",$e,[Xe,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-1",key:l},[(0,t._)("div",Qe,(0,Ie.zw)(l+1),1),(0,t._)("div",el,(0,Ie.zw)(e.player_a),1),(0,t._)("div",ll,[(0,t.wy)((0,t._)("input",{type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control",y(l)]),"onUpdate:modelValue":e=>(0,L.SU)(u).matches[l].player_a_score=e,disabled:(0,L.SU)(u).matches[l].is_played,onBlur:e=>g(l)},null,42,al),[[s.nr,(0,L.SU)(u).matches[l].player_a_score]])]),(0,t._)("div",sl,(0,Ie.zw)(e.player_b),1),(0,t._)("div",tl,[(0,t.wy)((0,t._)("input",{type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control",_(l)]),"onUpdate:modelValue":e=>(0,L.SU)(u).matches[l].player_b_score=e,disabled:(0,L.SU)(u).matches[l].is_played,onBlur:e=>h(l)},null,42,rl),[[s.nr,(0,L.SU)(u).matches[l].player_b_score]])]),(0,t._)("div",ol,[(0,L.SU)(u).isCompleted?((0,t.wg)(),(0,t.iD)("div",ul)):(0,L.SU)(u).matches[l].is_played?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-outline-secondary btn-sm",onClick:e=>U(l)}," ← ",8,nl)):((0,t.wg)(),(0,t.iD)("button",{key:2,type:"submit",class:"btn btn-outline-success btn-sm",onClick:(0,s.iM)((e=>k(l)),["prevent"])}," ✓ ",8,il))]),(0,L.SU)(d)[l].playerAResultIsValid&&(0,L.SU)(d)[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",cl,dl))])))),128))]),(0,t._)("div",vl,[(0,L.SU)(c)?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-secondary btn-lg",onClick:l[0]||(l[0]=e=>R())}," Zakończ turniej ")):(0,t.kq)("",!0)])])):(0,t.kq)("",!0)}});const _l=yl;var ml=_l;const gl=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Puchar")],-1),hl={class:"tournament-name text-start my-5"},bl=(0,t._)("label",{for:"tournamentName",class:"form-label fw-bold"}," Nazwa turnieju ",-1),fl={class:"players text-start"},wl=(0,t._)("label",{for:"players",class:"form-label fw-bold"},"Gracze",-1),kl={class:"player-input p-0 my-3"},Ul={class:"col-11"},Vl=["onUpdate:modelValue"],Rl={key:0,class:"col-1"},Il={key:1,class:"col-1"},Sl=["onClick"],Cl={key:2,class:"col-1"},zl=["onClick"],Bl={class:"add-plyer-input text-center"},xl=["disabled"],Al={class:"create-tournament"},Dl=["onClick"];var Ml=(0,t.aZ)({__name:"AddCup",setup(e){const l=(0,se.hJ)(ae,"cup"),a=(0,L.iH)(null);let r=(0,L.iH)(""),o=(0,L.iH)(["","","",""]),u=(0,L.iH)({level1:[],level2:[],level3:[],level4:[],level1IsCompleted:!1,level2IsCompleted:!1,level3IsCompleted:!1}),n="tqH9guVSEhrST0syb5Q0",i=(0,t.Fl)((()=>16==o.value.length));function c(){o.value.length<8?o.value.push("","","",""):o.value.length<16&&o.value.push("","","","","","","","")}function p(e){o.value.length>3&&o.value.length<=7?o.value.splice(e,4):o.value.length>7&&o.value.splice(e,8)}function d(){re(o.value);let e=[];for(let l=0;l<o.value.length;l+=2){let a={player_a:o.value[l],player_b:o.value[l+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};e.push(a)}16===o.value.length?u.value.level1=e:8===o.value.length?(u.value.level2=e,u.value.level1IsCompleted=!0):4===o.value.length&&(u.value.level3=e,u.value.level1IsCompleted=!0,u.value.level2IsCompleted=!0)}async function v(){if(a.value&&!a.value.checkValidity())return void a.value.reportValidity();d();const e=await(0,se.ET)(l,{date:$.Z.firestore.FieldValue.serverTimestamp(),name:r.value,matches:u.value,players:o.value,user_uuid:n,is_completed:!1}),s=e.id;Ur.push("/cup/"+s)}return(e,l)=>((0,t.wg)(),(0,t.iD)("form",{ref_key:"form",ref:a,class:"container p-5 border"},[gl,(0,t._)("div",hl,[bl,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control my-3",id:"tournamentName",placeholder:"Podaj nazwę turnieju...","onUpdate:modelValue":l[0]||(l[0]=e=>(0,L.dq)(r)?r.value=e:r=e),required:""},null,512),[[s.nr,(0,L.SU)(r)]])]),(0,t._)("div",fl,[wl,(0,t._)("ul",kl,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(o),((e,l)=>((0,t.wg)(),(0,t.iD)("li",{class:"row my-2",key:l},[(0,t._)("div",Ul,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"players",placeholder:"Podaj imię gracza...","onUpdate:modelValue":e=>(0,L.SU)(o)[l]=e,required:""},null,8,Vl),[[s.nr,(0,L.SU)(o)[l]]])]),l<=3?((0,t.wg)(),(0,t.iD)("div",Rl)):l/4==1?((0,t.wg)(),(0,t.iD)("div",Il,[(0,t._)("button",{type:"button",class:"btn btn btn-secondary",onClick:e=>p(l)}," X ",8,Sl)])):l/4==2?((0,t.wg)(),(0,t.iD)("div",Cl,[(0,t._)("button",{type:"button",class:"btn btn btn-secondary",onClick:e=>p(l)}," X ",8,zl)])):(0,t.kq)("",!0)])))),128))]),(0,t._)("div",Bl,[(0,t._)("button",{disabled:(0,L.SU)(i),type:"button",class:"btn btn btn-secondary my-3",onClick:c}," Dodaj gracza ",8,xl)])]),(0,t._)("div",Al,[(0,t._)("button",{onClick:(0,s.iM)(v,["prevent"]),type:"submit",class:"btn btn-secondary"}," Utwórz turniej ",8,Dl)])],512))}});const Pl=Ml;var Gl=Pl;const Nl={class:"container p-5 border"},jl=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Puchary")],-1),ql={class:"list my-5"},Hl=(0,t.uE)('<div class="row fw-bold my-3"><div class="col-2">nazwa</div><div class="col-2">data utworzenia</div><div class="col-3">id turnieju</div><div class="col-2">utworzył</div><div class="col-1">liczba graczy</div><div class="col-2">status</div></div>',1),Fl={class:"col-2"},Wl={class:"col-2"},El={class:"col-3"},Tl={class:"col-2"},Zl={class:"col-1"},Ol={class:"col-2"};var Yl=(0,t.aZ)({__name:"CupList",setup(e){let l=(0,L.iH)([]),a=(0,L.iH)([]);const s=(0,se.hJ)(ae,"cup"),r=(0,se.hJ)(ae,"users"),o=(0,se.IO)(s,(0,se.Xo)("date","desc"));function u(){(0,se.cf)(r,(e=>{e.forEach((e=>{const a={id:e.id,name:e.data().name,email:e.data().email};l.value.push(a)}))}))}function n(){(0,se.cf)(o,(e=>{const s=[];e.forEach((e=>{const a={name:e.data().name,date:Ce(e.data().date?.seconds),id:e.id,user:l.value.find((l=>l.id===e.data().user_uuid)),playersNumber:e.data().players.length,isCompleted:e.data().is_completed};s.push(a)})),a.value=s}))}return(0,t.bv)((async()=>{u(),n()})),(e,l)=>{const s=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",Nl,[jl,(0,t._)("div",ql,[Hl,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(a),((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"row my-1",key:l},[(0,t._)("div",Fl,(0,Ie.zw)(e.name),1),(0,t._)("div",Wl,(0,Ie.zw)(e.date),1),(0,t._)("div",El,[(0,t.Wm)(s,{to:e.id},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Ie.zw)(e.id),1)])),_:2},1032,["to"])]),(0,t._)("div",Tl,(0,Ie.zw)(e.user?.name),1),(0,t._)("div",Zl,(0,Ie.zw)(e.playersNumber),1),(0,t._)("div",Ol,(0,Ie.zw)(e.isCompleted?"zakończony":"aktywny"),1)])))),128))])])}}});const Kl=Yl;var Jl=Kl;const Ll={class:"player-names col-2"},$l={class:"row my-3"},Xl={class:"row my-3"},Ql={class:"score-inputs col-3"},ea={class:"row my-1"},la=["id","disabled"],aa={class:"row my-1"},sa=["id","disabled"],ta={class:"buttons col-1"},ra={class:"row my-2"},oa={key:0};var ua=(0,t.aZ)({__name:"CupCompetition",props:{match:{},isCompleted:{type:Boolean},index:{},resultA:{},resultB:{},level:{},playerAResultIsValid:{type:Boolean},playerBResultIsValid:{type:Boolean}},emits:["updateMatch","restoreMatch","clearPlayerAResultValidation","clearPlayerBResultValidation","update:resultA","update:resultB"],setup(e,{emit:l}){const a=e,r=(0,t.Fl)({get(){return a.resultA},set(e){l("update:resultA",e)}}),o=(0,t.Fl)({get(){return a.resultB},set(e){l("update:resultB",e)}});function u(e){return("aSixteen"!==e||a.playerAResultIsValid)&&("quarterFinal"!==e||a.playerAResultIsValid)&&("semiFinal"!==e||a.playerAResultIsValid)&&("final"!==e||a.playerAResultIsValid)?"":"border border-danger"}function n(e){return("aSixteen"!==e||a.playerBResultIsValid)&&("quarterFinal"!==e||a.playerBResultIsValid)&&("semiFinal"!==e||a.playerBResultIsValid)&&("final"!==e||a.playerBResultIsValid)?"":"border border-danger"}return(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Ll,[(0,t._)("div",$l,(0,Ie.zw)(e.match.player_a),1),(0,t._)("div",Xl,(0,Ie.zw)(e.match.player_b),1)]),(0,t._)("div",Ql,[(0,t._)("div",ea,[(0,t.wy)((0,t._)("input",{id:e.match.player_a,type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control text-center",u(e.level)]),onBlur:l[0]||(l[0]=l=>e.$emit("clearPlayerAResultValidation",e.index)),"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),disabled:e.match.is_played,required:""},null,42,la),[[s.nr,r.value]])]),(0,t._)("div",aa,[(0,t.wy)((0,t._)("input",{id:e.match.player_b,type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control text-center",n(e.level)]),onBlur:l[2]||(l[2]=l=>e.$emit("clearPlayerBResultValidation",e.index)),"onUpdate:modelValue":l[3]||(l[3]=e=>o.value=e),disabled:e.match.is_played,required:""},null,42,sa),[[s.nr,o.value]])])]),(0,t._)("div",ta,[(0,t._)("div",ra,[e.isCompleted?((0,t.wg)(),(0,t.iD)("div",oa)):e.match.is_played?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-outline-secondary btn-sm d-flex justify-content-center",onClick:l[4]||(l[4]=l=>e.$emit("restoreMatch",e.index))}," ← ")):((0,t.wg)(),(0,t.iD)("button",{key:2,type:"submit",class:"btn btn-outline-success btn-sm d-flex justify-content-center",onClick:l[5]||(l[5]=(0,s.iM)((l=>e.$emit("updateMatch",e.index)),["prevent"]))}," ✓ "))])])],64))}});const na=ua;var ia=na;const ca={key:0,class:"container p-5 border"},pa={class:"title"},da={class:"d-flex flex-row gap-3 description"},va={class:"tournament-bracket my-5"},ya=(0,t._)("h5",{class:"fw-bold mb-4"},"Drabinka",-1),_a={class:"heading row fw-bold my-3"},ma={class:"row my-3"},ga={key:0,class:"error-message col-12 my-1"},ha=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),ba=[ha],fa={key:0,class:"error-message col-12 my-1"},wa=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),ka=[wa],Ua={key:0,class:"error-message col-12 my-1"},Va=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),Ra=[Va],Ia={key:0,class:"error-message col-12 my-1"},Sa=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),Ca=[Sa],za={class:"end-button"};var Ba=(0,t.aZ)({__name:"CupTournament",setup(e){const l=(0,t.Fl)((()=>({"col-3":16===u.value.players.length,"col-4":8===u.value.players.length,"col-6":4===u.value.players.length}))),a=(0,se.hJ)(ae,"cup"),s=(0,se.hJ)(ae,"users");let r="";const o=(0,S.yj)();let u=(0,L.iH)({}),n=(0,L.iH)([]),i=!1,c=!1,p=!1,d=!1,v=(0,L.iH)(!0),y=(0,L.iH)({level1:[],level2:[],level3:[],level4:[]}),_={playerAResultIsValid:!0,playerBResultIsValid:!0};function m(){let e=[],l=[],a=[],s=[];0!==u.value.matches.level1.length&&(u.value.matches.level1.forEach((()=>{let l={..._};e.push(l)})),y.value.level1=e),0!==u.value.matches.level2.length&&(u.value.matches.level2.forEach((()=>{let e={..._};l.push(e)})),y.value.level2=l),0!==u.value.matches.level3.length&&(u.value.matches.level3.forEach((()=>{let e={..._};a.push(e)})),y.value.level3=a),0!==u.value.matches.level4.length&&(u.value.matches.level4.forEach((()=>{let e={..._};s.push(e)})),y.value.level4=s)}function g(e,l){v.value=!0,"aSixteen"!==l||Number.isInteger(u.value.matches?.level1[e]?.player_a_score)&&u.value.matches?.level1[e]?.player_a_score!==u.value.matches?.level1[e]?.player_b_score||(v.value=!1,y.value.level1[e].playerAResultIsValid=!1),"aSixteen"!==l||Number.isInteger(u.value.matches?.level1[e]?.player_b_score)&&u.value.matches?.level1[e]?.player_a_score!==u.value.matches?.level1[e]?.player_b_score||(v.value=!1,y.value.level1[e].playerBResultIsValid=!1),"quarterFinal"!==l||Number.isInteger(u.value.matches?.level2[e]?.player_a_score)&&u.value.matches?.level2[e]?.player_a_score!==u.value.matches?.level2[e]?.player_b_score||(v.value=!1,y.value.level2[e].playerAResultIsValid=!1),"quarterFinal"!==l||Number.isInteger(u.value.matches?.level2[e]?.player_b_score)&&u.value.matches?.level2[e]?.player_a_score!==u.value.matches?.level2[e]?.player_b_score||(v.value=!1,y.value.level2[e].playerBResultIsValid=!1),"semiFinal"!==l||Number.isInteger(u.value.matches?.level3[e]?.player_a_score)&&u.value.matches?.level3[e]?.player_a_score!==u.value.matches?.level3[e]?.player_b_score||(v.value=!1,y.value.level3[e].playerAResultIsValid=!1),"semiFinal"!==l||Number.isInteger(u.value.matches?.level3[e]?.player_b_score)&&u.value.matches?.level3[e]?.player_a_score!==u.value.matches?.level3[e]?.player_b_score||(v.value=!1,y.value.level3[e].playerBResultIsValid=!1),"final"!==l||Number.isInteger(u.value.matches?.level4[e]?.player_a_score)&&u.value.matches?.level4[e]?.player_a_score!==u.value.matches?.level4[e]?.player_b_score||(v.value=!1,y.value.level4[e].playerAResultIsValid=!1),"final"!==l||Number.isInteger(u.value.matches?.level4[e]?.player_b_score)&&u.value.matches?.level4[e]?.player_a_score!==u.value.matches?.level4[e]?.player_b_score||(v.value=!1,y.value.level4[e].playerBResultIsValid=!1)}function h(e,l){"aSixteen"===l&&(y.value.level1[e].playerAResultIsValid=!0),"quarterFinal"===l&&(y.value.level2[e].playerAResultIsValid=!0),"semiFinal"===l&&(y.value.level3[e].playerAResultIsValid=!0),"final"===l&&(y.value.level4[e].playerAResultIsValid=!0)}function b(e,l){"aSixteen"===l&&(y.value.level1[e].playerBResultIsValid=!0),"quarterFinal"===l&&(y.value.level2[e].playerBResultIsValid=!0),"semiFinal"===l&&(y.value.level3[e].playerBResultIsValid=!0),"final"===l&&(y.value.level4[e].playerBResultIsValid=!0)}function f(){u.value.matches.level1IsCompleted=!0;let e=[],l=[];u.value.matches.level1.forEach((l=>{l.player_a_score>l.player_b_score?e.push(l.player_a):l.player_a_score<l.player_b_score&&e.push(l.player_b)}));for(let a=0;a<u.value.matches.level1.length;a+=2){let s={player_a:e[a],player_b:e[a+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(s)}u.value.matches.level2=l,m(),"string"===typeof r&&I(r),i=!1}function w(){u.value.matches.level2IsCompleted=!0;let e=[],l=[];u.value.matches.level2.forEach((l=>{l.player_a_score>l.player_b_score?e.push(l.player_a):l.player_a_score<l.player_b_score&&e.push(l.player_b)}));for(let a=0;a<u.value.matches.level2.length;a+=2){let s={player_a:e[a],player_b:e[a+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(s)}u.value.matches.level3=l,m(),"string"===typeof r&&I(r),c=!1}function k(){u.value.matches.level3IsCompleted=!0;let e=[],l=[];u.value.matches.level3.forEach((l=>{l.player_a_score>l.player_b_score?e.push(l.player_a):l.player_a_score<l.player_b_score&&e.push(l.player_b)}));for(let a=0;a<u.value.matches.level3.length;a+=2){let s={player_a:e[a],player_b:e[a+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(s)}u.value.matches.level4=l,m(),"string"===typeof r&&I(r),p=!1}function U(){u.value.isCompleted=!0,"string"===typeof r&&I(r),d=!1}function V(e,l){g(e,l),v.value&&("aSixteen"===l&&(u.value.matches.level1[e].is_played=!0,i=u.value.matches.level1.every((e=>!0===e.is_played))),"quarterFinal"===l&&(u.value.matches.level2[e].is_played=!0,c=u.value.matches.level2.every((e=>!0===e.is_played))),"semiFinal"===l&&(u.value.matches.level3[e].is_played=!0,p=u.value.matches.level3.every((e=>!0===e.is_played))),"final"===l&&(u.value.matches.level4[e].is_played=!0,d=u.value.matches.level4.every((e=>!0===e.is_played))),"string"===typeof r&&I(r))}function R(e){u.value.matches.level1IsCompleted?u.value.matches.level2IsCompleted?u.value.matches.level3IsCompleted?u.value.matches.level4[e].is_played=!1:u.value.matches.level3[e].is_played=!1:u.value.matches.level2[e].is_played=!1:u.value.matches.level1[e].is_played=!1}async function I(e){await(0,se.r7)((0,se.JU)(a,e),{is_completed:u.value.isCompleted,matches:u.value.matches})}function C(){(0,se.cf)(s,(e=>{e.forEach((e=>{const l={id:e.id,name:e.data().name,email:e.data().email};n.value.push(l)}))}))}function z(e){(0,se.cf)((0,se.JU)(ae,"cup",e),(e=>{u.value={name:e.data()?.name,date:Ce(e.data()?.date?.seconds),id:e.id,user:n.value.find((l=>l.id===e.data()?.user_uuid)),matches:e.data()?.matches,players:e.data()?.players,isCompleted:e.data()?.is_completed},m()}))}return(0,t.bv)((async()=>{r=o.params.id,C(),"string"===typeof r&&z(r)})),(e,a)=>Object.keys((0,L.SU)(u))&&Object.keys((0,L.SU)(u)).length?((0,t.wg)(),(0,t.iD)("div",ca,[(0,t._)("div",pa,[(0,t._)("div",da,[(0,t._)("p",null,"Data utworzenia: "+(0,Ie.zw)((0,L.SU)(u).date),1),(0,t._)("p",null,"Utworzył: "+(0,Ie.zw)((0,L.SU)(u).user?.name),1),(0,t._)("p",null," Status: "+(0,Ie.zw)((0,L.SU)(u).isCompleted?"Zakończony":"Aktywny"),1)]),(0,t._)("h1",null,"Turniej: "+(0,Ie.zw)((0,L.SU)(u).name),1)]),(0,t._)("div",va,[ya,(0,t._)("div",_a,[8===(0,L.SU)(u).matches.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,Ie.C_)(["col-3",l.value])}," 1/16 ",2)):(0,t.kq)("",!0),4===(0,L.SU)(u).matches.level2.length||8===(0,L.SU)(u).matches.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,Ie.C_)(["col-3",l.value])}," ćwierćfinał ",2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,Ie.C_)(["col-3",l.value])},"półfinał",2),(0,t._)("div",{class:(0,Ie.C_)(["col-3",l.value])},"finał",2)]),(0,t._)("div",ma,[8===(0,L.SU)(u).matches.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,Ie.C_)(["a-sixteen col-3",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level1,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(ia,{index:l,match:e,"is-completed":(0,L.SU)(u).matches.level1IsCompleted,level:"aSixteen","player-a-result-is-valid":(0,L.SU)(y).level1[l]?.playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(y).level1[l]?.playerBResultIsValid,onRestoreMatch:R,onUpdateMatch:e=>V(l,"aSixteen"),onClearPlayerAResultValidation:e=>h(l,"aSixteen"),onClearPlayerBResultValidation:e=>b(l,"aSixteen"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l},null,8,["index","match","is-completed","player-a-result-is-valid","player-b-result-is-valid","onUpdateMatch","onClearPlayerAResultValidation","onClearPlayerBResultValidation","result-a","onUpdate:resultA","result-b","onUpdate:resultB"]),(0,L.SU)(y).level1[l]?.playerAResultIsValid&&(0,L.SU)(y).level1[l]?.playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ga,ba))])))),128))],2)):(0,t.kq)("",!0),4===(0,L.SU)(u).matches.level2.length||8===(0,L.SU)(u).matches.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,Ie.C_)(["quarter-final col-3 d-flex flex-column justify-content-around",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level2,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(ia,{index:l,match:e,"is-completed":(0,L.SU)(u).matches.level2IsCompleted,level:"quarterFinal","player-a-result-is-valid":(0,L.SU)(y).level2[l]?.playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(y).level2[l]?.playerBResultIsValid,onRestoreMatch:R,onUpdateMatch:e=>V(l,"quarterFinal"),onClearPlayerAResultValidation:e=>h(l,"quarterFinal"),onClearPlayerBResultValidation:e=>b(l,"quarterFinal"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l},null,8,["index","match","is-completed","player-a-result-is-valid","player-b-result-is-valid","onUpdateMatch","onClearPlayerAResultValidation","onClearPlayerBResultValidation","result-a","onUpdate:resultA","result-b","onUpdate:resultB"]),(0,L.SU)(y).level2[l]?.playerAResultIsValid&&(0,L.SU)(y).level2[l]?.playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",fa,ka))])))),128))],2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,Ie.C_)(["semi-final col-3 d-flex flex-column justify-content-around",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level3,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(ia,{index:l,match:e,"is-completed":(0,L.SU)(u).matches.level3IsCompleted,level:"semiFinal","player-a-result-is-valid":(0,L.SU)(y).level3[l]?.playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(y).level3[l]?.playerBResultIsValid,onRestoreMatch:R,onUpdateMatch:e=>V(l,"semiFinal"),onClearPlayerAResultValidation:e=>h(l,"semiFinal"),onClearPlayerBResultValidation:e=>b(l,"semiFinal"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l},null,8,["index","match","is-completed","player-a-result-is-valid","player-b-result-is-valid","onUpdateMatch","onClearPlayerAResultValidation","onClearPlayerBResultValidation","result-a","onUpdate:resultA","result-b","onUpdate:resultB"]),(0,L.SU)(y).level3[l]?.playerAResultIsValid&&(0,L.SU)(y).level3[l]?.playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Ua,Ra))])))),128))],2),(0,t._)("div",{class:(0,Ie.C_)(["final col-3 d-flex flex-column justify-content-center",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level4,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(ia,{index:l,match:e,"is-completed":(0,L.SU)(u).isCompleted,level:"final","player-a-result-is-valid":(0,L.SU)(y).level4[l]?.playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(y).level4[l]?.playerBResultIsValid,onRestoreMatch:R,onUpdateMatch:e=>V(l,"final"),onClearPlayerAResultValidation:e=>h(l,"final"),onClearPlayerBResultValidation:e=>b(l,"final"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l},null,8,["index","match","is-completed","player-a-result-is-valid","player-b-result-is-valid","onUpdateMatch","onClearPlayerAResultValidation","onClearPlayerBResultValidation","result-a","onUpdate:resultA","result-b","onUpdate:resultB"]),(0,L.SU)(y).level4[l]?.playerAResultIsValid&&(0,L.SU)(y).level4[l]?.playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Ia,Ca))])))),128))],2)])]),(0,t._)("div",za,[(0,L.SU)(i)?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-secondary btn-lg",onClick:f}," Przejdź do ćwierćfinałów ")):(0,t.kq)("",!0),(0,L.SU)(c)?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-secondary btn-lg",onClick:w}," Przejdź do półfinałów ")):(0,t.kq)("",!0),(0,L.SU)(p)?((0,t.wg)(),(0,t.iD)("button",{key:2,class:"btn btn-secondary btn-lg",onClick:k}," Przejdź do finału ")):(0,t.kq)("",!0),(0,L.SU)(d)?((0,t.wg)(),(0,t.iD)("button",{key:3,class:"btn btn-secondary btn-lg",onClick:U}," Zakończ turniej ")):(0,t.kq)("",!0)])])):(0,t.kq)("",!0)}});const xa=Ba;var Aa=xa;const Da=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Grupa + play-off")],-1),Ma={class:"tournament-name text-start my-5"},Pa=(0,t._)("label",{for:"tournamentName",class:"form-label fw-bold"},"Nazwa turnieju",-1),Ga={class:"players text-start"},Na=(0,t._)("label",{for:"players",class:"form-label fw-bold"},"Gracze",-1),ja={class:"player-input p-0 my-3"},qa={class:"col-11"},Ha=["onUpdate:modelValue"],Fa={key:0,class:"col-1"},Wa={key:1,class:"col-1"},Ea=["onClick"],Ta={class:"add-plyer-input text-center"},Za=["disabled"],Oa={class:"second-match form-check text-start my-3"},Ya=(0,t._)("label",{class:"form-check-label fw-bold",for:"secondMatch"}," Dwumecz w fazie grupowej ",-1),Ka={class:"create-tournament"},Ja=["onClick"];var La=(0,t.aZ)({__name:"AddGroup",setup(e){const l=(0,se.hJ)(ae,"group-play-off"),a=(0,L.iH)(null);let r=(0,L.iH)(""),o=(0,L.iH)(!1),u=(0,L.iH)(["","","","","",""]),n={group1:[],group2:[],group3:[],group4:[]},i={level1:[],level2:[],level3:[],level1IsCompleted:!1,level2IsCompleted:!1},c={group1:[],group2:[],group3:[],group4:[]},p="tqH9guVSEhrST0syb5Q0";const d=(0,t.Fl)((()=>16==u.value.length));function v(){u.value.length<16&&u.value.push("")}function y(e){u.value.splice(e,1)}function _(){re(u.value);let e=[],l=[],a=[],s=[],t=[],r=[],i=[],p=[];if(u.value.length<12){if(c.group1=u.value.slice(0,u.value.length/2),c.group2=u.value.slice(u.value.length/2,u.value.length),c.group1.forEach(((l,a)=>{for(let s=a+1;s<c.group1.length;s++){let a={player_a:l,player_b:c.group1[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};e.push(a)}})),re(e),!0===o.value)for(let l=0;l<e.length;l++){const a=e[l];t.push({...a,player_a:a.player_b,player_b:a.player_a})}if(n.group1=e.concat(t),c.group2.forEach(((e,a)=>{for(let s=a+1;s<c.group2.length;s++){let a={player_a:e,player_b:c.group2[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(a)}})),re(l),!0===o.value)for(let e=0;e<l.length;e++){const a=l[e];r.push({...a,player_a:a.player_b,player_b:a.player_a})}n.group2=l.concat(r)}else if(u.value.length>=12&&u.value.length<=16){if(c.group1=u.value.slice(0,u.value.length/4),c.group2=u.value.slice(u.value.length/4,u.value.length/2),c.group3=u.value.slice(u.value.length/2,u.value.length/4+u.value.length/2),c.group4=u.value.slice(u.value.length/4+u.value.length/2,u.value.length),c.group1.forEach(((l,a)=>{for(let s=a+1;s<c.group1.length;s++){let a={player_a:l,player_b:c.group1[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};e.push(a)}})),re(e),!0===o.value)for(let l=0;l<e.length;l++){const a=e[l];t.push({...a,player_a:a.player_b,player_b:a.player_a})}if(n.group1=e.concat(t),c.group2.forEach(((e,a)=>{for(let s=a+1;s<c.group2.length;s++){let a={player_a:e,player_b:c.group2[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(a)}})),re(l),!0===o.value)for(let e=0;e<l.length;e++){const a=l[e];r.push({...a,player_a:a.player_b,player_b:a.player_a})}if(n.group2=l.concat(r),c.group3.forEach(((e,l)=>{for(let s=l+1;s<c.group3.length;s++){let l={player_a:e,player_b:c.group3[s],player_a_score:NaN,player_b_score:NaN,is_played:!1};a.push(l)}})),re(a),!0===o.value)for(let e=0;e<a.length;e++){const l=a[e];i.push({...l,player_a:l.player_b,player_b:l.player_a})}if(n.group3=a.concat(i),c.group4.forEach(((e,l)=>{for(let a=l+1;a<c.group4.length;a++){let l={player_a:e,player_b:c.group4[a],player_a_score:NaN,player_b_score:NaN,is_played:!1};s.push(l)}})),re(s),!0===o.value)for(let e=0;e<s.length;e++){const l=s[e];p.push({...l,player_a:l.player_b,player_b:l.player_a})}n.group4=s.concat(p)}}async function m(){if(a.value&&!a.value.checkValidity())return void a.value.reportValidity();_();const e=await(0,se.ET)(l,{date:$.Z.firestore.FieldValue.serverTimestamp(),name:r.value,second_match:o.value,group_matches:n,play_off_matches:i,players:u.value,group_players:c,play_off_players:[],user_uuid:p,is_completed:!1,group_stage_is_completed:!1}),s=e.id;Ur.push("/group-play-off/"+s)}return(e,l)=>((0,t.wg)(),(0,t.iD)("form",{ref_key:"form",ref:a,class:"container p-5 border"},[Da,(0,t._)("div",Ma,[Pa,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control my-3",id:"tournamentName",placeholder:"Podaj nazwę turnieju...","onUpdate:modelValue":l[0]||(l[0]=e=>(0,L.dq)(r)?r.value=e:r=e),required:""},null,512),[[s.nr,(0,L.SU)(r)]])]),(0,t._)("div",Ga,[Na,(0,t._)("ul",ja,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u),((e,l)=>((0,t.wg)(),(0,t.iD)("li",{class:"row my-2",key:l},[(0,t._)("div",qa,[(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"players",placeholder:"Podaj imię gracza...","onUpdate:modelValue":e=>(0,L.SU)(u)[l]=e,required:""},null,8,Ha),[[s.nr,(0,L.SU)(u)[l]]])]),l<=5?((0,t.wg)(),(0,t.iD)("div",Fa)):((0,t.wg)(),(0,t.iD)("div",Wa,[(0,t._)("button",{type:"button",class:"btn btn btn-secondary",onClick:e=>y(l)}," X ",8,Ea)]))])))),128))]),(0,t._)("div",Ta,[(0,t._)("button",{disabled:d.value,type:"button",class:"btn btn btn-secondary my-3",onClick:v}," Dodaj gracza ",8,Za)])]),(0,t._)("div",Oa,[Ya,(0,t.wy)((0,t._)("input",{class:"form-check-input",type:"checkbox",id:"secondMatch","onUpdate:modelValue":l[1]||(l[1]=e=>(0,L.dq)(o)?o.value=e:o=e)},null,512),[[s.e8,(0,L.SU)(o)]])]),(0,t._)("div",Ka,[(0,t._)("button",{onClick:(0,s.iM)(m,["prevent"]),type:"submit",class:"btn btn-secondary"}," Utwórz turniej ",8,Ja)])],512))}});const $a=La;var Xa=$a;const Qa={class:"container p-5 border"},es=(0,t._)("div",{class:"title"},[(0,t._)("h1",null,"Turnieje Grupa + Play-Off")],-1),ls={class:"list my-5"},as=(0,t.uE)('<div class="row fw-bold my-3"><div class="col-2">nazwa</div><div class="col-2">data utworzenia</div><div class="col-3">id turnieju</div><div class="col-2">utworzył</div><div class="col-1">liczba graczy</div><div class="col-2">status</div></div>',1),ss={class:"col-2"},ts={class:"col-2"},rs={class:"col-3"},os={class:"col-2"},us={class:"col-1"},ns={class:"col-2"};var is=(0,t.aZ)({__name:"GroupList",setup(e){let l=(0,L.iH)([]),a=(0,L.iH)([]);const s=(0,se.hJ)(ae,"group-play-off"),r=(0,se.hJ)(ae,"users"),o=(0,se.IO)(s,(0,se.Xo)("date","desc"));function u(){(0,se.cf)(r,(e=>{e.forEach((e=>{const a={id:e.id,name:e.data().name,email:e.data().email};l.value.push(a)}))}))}function n(){(0,se.cf)(o,(e=>{const s=[];e.forEach((e=>{const a={name:e.data().name,date:Ce(e.data().date?.seconds),id:e.id,user:l.value.find((l=>l.id===e.data().user_uuid)),playersNumber:e.data().players.length,isCompleted:e.data().is_completed};s.push(a)})),a.value=s}))}return(0,t.bv)((async()=>{u(),n()})),(e,l)=>{const s=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",Qa,[es,(0,t._)("div",ls,[as,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(a),((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"row my-1",key:l},[(0,t._)("div",ss,(0,Ie.zw)(e.name),1),(0,t._)("div",ts,(0,Ie.zw)(e.date),1),(0,t._)("div",rs,[(0,t.Wm)(s,{to:e.id},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Ie.zw)(e.id),1)])),_:2},1032,["to"])]),(0,t._)("div",os,(0,Ie.zw)(e.user?.name),1),(0,t._)("div",us,(0,Ie.zw)(e.playersNumber),1),(0,t._)("div",ns,(0,Ie.zw)(e.isCompleted?"zakończony":"aktywny"),1)])))),128))])])}}});const cs=is;var ps=cs;const ds=(0,t._)("th",{scope:"col"},"#",-1),vs=(0,t._)("th",{scope:"col"},"Drużyna",-1),ys=(0,t._)("th",{scope:"col"},"M",-1),_s=(0,t._)("th",{scope:"col"},"W",-1),ms=(0,t._)("th",{scope:"col"},"R",-1),gs=(0,t._)("th",{scope:"col"},"P",-1),hs=(0,t._)("th",{scope:"col"},"B",-1),bs=(0,t._)("th",{scope:"col"},"RB",-1),fs=(0,t._)("th",{scope:"col"},"P",-1),ws=[ds,vs,ys,_s,ms,gs,hs,bs,fs];function ks(e,l){return(0,t.wg)(),(0,t.iD)("tr",null,ws)}const Us={},Vs=(0,U.Z)(Us,[["render",ks]]);var Rs=Vs;const Is={scope:"row"},Ss={class:"fw-bold"};var Cs=(0,t.aZ)({__name:"GroupTableBody",props:{player:{},index:{}},emits:["tableColors"],setup(e){return(e,l)=>((0,t.wg)(),(0,t.iD)("tr",{class:(0,Ie.C_)(e.$emit("tableColors",e.index))},[(0,t._)("td",Is,(0,Ie.zw)(e.index+1),1),(0,t._)("td",null,(0,Ie.zw)(e.player.name),1),(0,t._)("td",null,(0,Ie.zw)(e.player.matches),1),(0,t._)("td",null,(0,Ie.zw)(e.player.wins),1),(0,t._)("td",null,(0,Ie.zw)(e.player.draws),1),(0,t._)("td",null,(0,Ie.zw)(e.player.lost),1),(0,t._)("td",null,(0,Ie.zw)(e.player.scoredGoals)+":"+(0,Ie.zw)(e.player.lostGoals),1),(0,t._)("td",null,(0,Ie.zw)(e.player.aggregateScore),1),(0,t._)("td",Ss,(0,Ie.zw)(e.player.points),1)],2))}});const zs=Cs;var Bs=zs;const xs={class:"row fw-bold my-3"},As=(0,t.uE)('<div class="col-1">#</div><div class="col-3">Gracz A</div><div class="col-2">Wynik Gracza A</div><div class="col-3">Gracz B</div><div class="col-2">Wynik Gracza B</div><div class="col-1"></div>',6),Ds=[As];function Ms(e,l){return(0,t.wg)(),(0,t.iD)("div",xs,Ds)}const Ps={},Gs=(0,U.Z)(Ps,[["render",Ms]]);var Ns=Gs;const js={class:"col-1"},qs={class:"col-3"},Hs={class:"col-2"},Fs=["disabled"],Ws={class:"col-3"},Es={class:"col-2"},Ts=["disabled"],Zs={class:"col-1"},Os={key:0};var Ys=(0,t.aZ)({__name:"GroupMatchesBody",props:{match:{},isCompleted:{type:Boolean},index:{},resultA:{},resultB:{},group:{},playerAResultIsValid:{type:Boolean},playerBResultIsValid:{type:Boolean}},emits:["updateMatch","restoreMatch","clearPlayerAResultValidation","clearPlayerBResultValidation","update:resultA","update:resultB"],setup(e,{emit:l}){const a=e,r=(0,t.Fl)({get(){return a.resultA},set(e){l("update:resultA",e)}}),o=(0,t.Fl)({get(){return a.resultB},set(e){l("update:resultB",e)}});function u(e){return("group1"!==e||a.playerAResultIsValid)&&("group2"!==e||a.playerAResultIsValid)&&("group3"!==e||a.playerAResultIsValid)&&("group4"!==e||a.playerAResultIsValid)?"":"border border-danger"}function n(e){return("group1"!==e||a.playerBResultIsValid)&&("group2"!==e||a.playerBResultIsValid)&&("group3"!==e||a.playerBResultIsValid)&&("group4"!==e||a.playerBResultIsValid)?"":"border border-danger"}return(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",js,(0,Ie.zw)(e.index+1),1),(0,t._)("div",qs,(0,Ie.zw)(e.match.player_a),1),(0,t._)("div",Hs,[(0,t.wy)((0,t._)("input",{type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control",u(e.group)]),onBlur:l[0]||(l[0]=l=>e.$emit("clearPlayerAResultValidation",e.index)),"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),disabled:e.match.is_played,required:""},null,42,Fs),[[s.nr,r.value]])]),(0,t._)("div",Ws,(0,Ie.zw)(e.match.player_b),1),(0,t._)("div",Es,[(0,t.wy)((0,t._)("input",{type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control",n(e.group)]),onBlur:l[2]||(l[2]=l=>e.$emit("clearPlayerBResultValidation",e.index)),"onUpdate:modelValue":l[3]||(l[3]=e=>o.value=e),disabled:e.match.is_played,required:""},null,42,Ts),[[s.nr,o.value]])]),(0,t._)("div",Zs,[e.isCompleted?((0,t.wg)(),(0,t.iD)("div",Os)):e.match.is_played?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-outline-secondary btn-sm",onClick:l[4]||(l[4]=l=>e.$emit("restoreMatch",e.index))}," ← ")):((0,t.wg)(),(0,t.iD)("button",{key:2,type:"submit",class:"btn btn-outline-success btn-sm",onClick:l[5]||(l[5]=(0,s.iM)((l=>e.$emit("updateMatch",e.index)),["prevent"]))}," ✓ "))])],64))}});const Ks=Ys;var Js=Ks;const Ls={class:"player-names col-2"},$s={class:"row my-3"},Xs={class:"row my-3"},Qs={class:"score-inputs col-3"},et={class:"row my-1"},lt=["id","disabled"],at={class:"row my-1"},st=["id","disabled"],tt={class:"buttons col-1"},rt={class:"row my-2"},ot={key:0};var ut=(0,t.aZ)({__name:"PlayOffCupCompetition",props:{match:{},isCompleted:{type:Boolean},index:{},resultA:{},resultB:{},level:{},playerAResultIsValid:{type:Boolean},playerBResultIsValid:{type:Boolean}},emits:["updateMatch","restoreMatch","clearPlayerAResultValidation","clearPlayerBResultValidation","update:resultA","update:resultB"],setup(e,{emit:l}){const a=e,r=(0,t.Fl)({get(){return a.resultA},set(e){l("update:resultA",e)}}),o=(0,t.Fl)({get(){return a.resultB},set(e){l("update:resultB",e)}});function u(e){return("quarterFinal"!==e||a.playerAResultIsValid)&&("semiFinal"!==e||a.playerAResultIsValid)&&("final"!==e||a.playerAResultIsValid)?"":"border border-danger"}function n(e){return("quarterFinal"!==e||a.playerBResultIsValid)&&("semiFinal"!==e||a.playerBResultIsValid)&&("final"!==e||a.playerBResultIsValid)?"":"border border-danger"}return(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Ls,[(0,t._)("div",$s,(0,Ie.zw)(e.match.player_a),1),(0,t._)("div",Xs,(0,Ie.zw)(e.match.player_b),1)]),(0,t._)("div",Qs,[(0,t._)("div",et,[(0,t.wy)((0,t._)("input",{id:e.match.player_a,type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control text-center",u(e.level)]),onBlur:l[0]||(l[0]=l=>e.$emit("clearPlayerAResultValidation",e.index)),"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),disabled:e.match.is_played,required:""},null,42,lt),[[s.nr,r.value]])]),(0,t._)("div",at,[(0,t.wy)((0,t._)("input",{id:e.match.player_b,type:"number",min:"0",max:"99",class:(0,Ie.C_)(["form-control text-center",n(e.level)]),onBlur:l[2]||(l[2]=l=>e.$emit("clearPlayerBResultValidation",e.index)),"onUpdate:modelValue":l[3]||(l[3]=e=>o.value=e),disabled:e.match.is_played,required:""},null,42,st),[[s.nr,o.value]])])]),(0,t._)("div",tt,[(0,t._)("div",rt,[e.isCompleted?((0,t.wg)(),(0,t.iD)("div",ot)):e.match.is_played?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-outline-secondary btn-sm d-flex justify-content-center",onClick:l[4]||(l[4]=l=>e.$emit("restoreMatch",e.index))}," ← ")):((0,t.wg)(),(0,t.iD)("button",{key:2,type:"submit",class:"btn btn-outline-success btn-sm d-flex justify-content-center",onClick:l[5]||(l[5]=(0,s.iM)((l=>e.$emit("updateMatch",e.index)),["prevent"]))}," ✓ "))])])],64))}});const nt=ut;var it=nt;const ct={key:0,class:"tournament-bracket my-5"},pt=(0,t._)("h5",{class:"fw-bold mb-4"},"Drabinka",-1),dt={class:"heading row fw-bold my-3"},vt={class:"row my-3"},yt={key:0,class:"error-message col-12 my-1"},_t=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),mt=[_t],gt={key:0,class:"error-message col-12 my-1"},ht=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),bt=[ht],ft={key:0,class:"error-message col-12 my-1"},wt=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik, remis lub brak wyniku ",-1),kt=[wt],Ut={class:"end-button"};var Vt=(0,t.aZ)({__name:"PlayOffTournament",setup(e){const l=(0,t.Fl)((()=>({"col-4":8===u.value?.players?.length,"col-6":4===u.value?.players?.length}))),a=(0,t.Fl)((()=>({matches:u.value?.matches,level1:u.value.matches?.level1,level2:u.value.matches?.level2,level3:u.value.matches?.level3}))),s=(0,se.hJ)(ae,"group-play-off");let r="";const o=(0,S.yj)();let u=(0,L.iH)({}),n=!1,i=!1,c=!1,p=(0,L.iH)(!0),d=(0,L.iH)({level1:[],level2:[],level3:[]});function v(){let e=[],l=[],a=[];0!==u.value.matches.level1.length&&(u.value.matches.level1.forEach((()=>{let l={playerAResultIsValid:!0,playerBResultIsValid:!0};e.push(l)})),d.value.level1=e),0!==u.value.matches.level2.length&&(u.value.matches.level2.forEach((()=>{let e={playerAResultIsValid:!0,playerBResultIsValid:!0};l.push(e)})),d.value.level2=l),0!==u.value.matches.level3.length&&(u.value.matches.level3.forEach((()=>{let e={playerAResultIsValid:!0,playerBResultIsValid:!0};a.push(e)})),d.value.level3=a)}function y(e,l){p.value=!0,"quarterFinal"!==l||Number.isInteger(u.value.matches.level1[e].player_a_score)&&u.value.matches.level1[e].player_a_score!==u.value.matches.level1[e].player_b_score||(p.value=!1,d.value.level1[e].playerAResultIsValid=!1),"quarterFinal"!==l||Number.isInteger(u.value.matches.level1[e].player_b_score)&&u.value.matches.level1[e].player_a_score!==u.value.matches.level1[e].player_b_score||(p.value=!1,d.value.level1[e].playerBResultIsValid=!1),"semiFinal"!==l||Number.isInteger(u.value.matches.level2[e].player_a_score)&&u.value.matches.level2[e].player_a_score!==u.value.matches.level2[e].player_b_score||(p.value=!1,d.value.level2[e].playerAResultIsValid=!1),"semiFinal"!==l||Number.isInteger(u.value.matches.level2[e].player_b_score)&&u.value.matches.level2[e].player_a_score!==u.value.matches.level2[e].player_b_score||(p.value=!1,d.value.level2[e].playerBResultIsValid=!1),"final"!==l||Number.isInteger(u.value.matches.level3[e].player_a_score)&&u.value.matches.level3[e].player_a_score!==u.value.matches.level3[e].player_b_score||(p.value=!1,d.value.level3[e].playerAResultIsValid=!1),"final"!==l||Number.isInteger(u.value.matches.level3[e].player_b_score)&&u.value.matches.level3[e].player_a_score!==u.value.matches.level3[e].player_b_score||(p.value=!1,d.value.level3[e].playerBResultIsValid=!1)}function _(e,l){"quarterFinal"===l&&(d.value.level1[e].playerAResultIsValid=!0),"semiFinal"===l&&(d.value.level2[e].playerAResultIsValid=!0),"final"===l&&(d.value.level3[e].playerAResultIsValid=!0)}function m(e,l){"quarterFinal"===l&&(d.value.level1[e].playerBResultIsValid=!0),"semiFinal"===l&&(d.value.level2[e].playerBResultIsValid=!0),"final"===l&&(d.value.level3[e].playerBResultIsValid=!0)}function g(){u.value.matches.level1IsCompleted=!0;let e=[],l=[];u.value.matches.level1.forEach((l=>{l.player_a_score>l.player_b_score?e.push(l.player_a):l.player_a_score<l.player_b_score&&e.push(l.player_b)}));for(let a=0;a<u.value.matches.level1.length;a+=2){let s={player_a:e[a],player_b:e[a+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(s)}u.value.matches.level2=l,v(),"string"===typeof r&&k(r),n=!1}function h(){u.value.matches.level2IsCompleted=!0;let e=[],l=[];u.value.matches.level2.forEach((l=>{l.player_a_score>l.player_b_score?e.push(l.player_a):l.player_a_score<l.player_b_score&&e.push(l.player_b)}));for(let a=0;a<u.value.matches.level2.length;a+=2){let s={player_a:e[a],player_b:e[a+1],player_a_score:NaN,player_b_score:NaN,is_played:!1};l.push(s)}u.value.matches.level3=l,v(),"string"===typeof r&&k(r),i=!1}function b(){u.value.isCompleted=!0,"string"===typeof r&&k(r),c=!1,window.scrollTo(0,0)}function f(e,l){y(e,l),p.value&&("quarterFinal"===l&&(u.value.matches.level1[e].is_played=!0,n=u.value.matches.level1.every((e=>!0===e.is_played))),"semiFinal"===l&&(u.value.matches.level2[e].is_played=!0,i=u.value.matches.level2.every((e=>!0===e.is_played))),"final"===l&&(u.value.matches.level3[e].is_played=!0,c=u.value.matches.level3.every((e=>!0===e.is_played))),"string"===typeof r&&k(r))}function w(e){u.value.matches.level1IsCompleted?u.value.matches.level2IsCompleted?u.value.isCompleted:u.value.matches.level2[e].is_played=!1:u.value.matches.level1[e].is_played=!1,u.value.matches.level3[e].is_played=!1}async function k(e){await(0,se.r7)((0,se.JU)(s,e),{is_completed:u.value.isCompleted,play_off_matches:u.value.matches})}function U(e){(0,se.cf)((0,se.JU)(ae,"group-play-off",e),(e=>{u.value={date:Ce(e.data()?.date?.seconds),id:e.id,matches:e.data()?.play_off_matches,isCompleted:e.data()?.is_completed,players:e.data()?.play_off_players},v()}))}return(0,t.bv)((async()=>{r=o.params.id,"string"===typeof r&&U(r)})),(e,s)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[a.value.matches?((0,t.wg)(),(0,t.iD)("div",ct,[pt,(0,t._)("div",dt,[a.value.level1&&4===a.value.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,Ie.C_)(["col-4",l.value])}," ćwierćfinał ",2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,Ie.C_)(["col-4",l.value])},"półfinał",2),(0,t._)("div",{class:(0,Ie.C_)(["col-4",l.value])},"finał",2)]),(0,t._)("div",vt,[a.value.level1&&4===a.value.level1.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,Ie.C_)(["quarter-final col-3 d-flex flex-column justify-content-around",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level1,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(it,{index:l,match:e,"is-completed":(0,L.SU)(u).matches.level1IsCompleted,level:"quarterFinal",onRestoreMatch:w,onUpdateMatch:e=>f(l,"quarterFinal"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(d)?.level1[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(d)?.level1[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>_(l,"quarterFinal"),onClearPlayerBResultValidation:e=>m(l,"quarterFinal")},null,8,["index","match","is-completed","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(d).level1[l].playerAResultIsValid&&(0,L.SU)(d).level1[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",yt,mt))])))),128))],2)):(0,t.kq)("",!0),a.value.level2?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,Ie.C_)(["semi-final col-3 d-flex flex-column justify-content-around",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level2,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(it,{index:l,match:e,"is-completed":(0,L.SU)(u).matches.level2IsCompleted,level:"semiFinal",onRestoreMatch:w,onUpdateMatch:e=>f(l,"semiFinal"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(d)?.level2[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(d)?.level2[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>_(l,"semiFinal"),onClearPlayerBResultValidation:e=>m(l,"semiFinal")},null,8,["index","match","is-completed","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(d).level2[l].playerAResultIsValid&&(0,L.SU)(d).level2[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",gt,bt))])))),128))],2)):(0,t.kq)("",!0),a.value.level3?((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,Ie.C_)(["final col-3 d-flex flex-column justify-content-center",l.value])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(u).matches.level3,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-3 py-1 border rounded-4 align-items-center d-flex justify-content-evenly",key:l},[(0,t.Wm)(it,{index:l,match:e,"is-completed":(0,L.SU)(u).isCompleted,level:"final",onRestoreMatch:w,onUpdateMatch:e=>f(l,"final"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(d)?.level3[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(d)?.level3[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>_(l,"final"),onClearPlayerBResultValidation:e=>m(l,"final")},null,8,["index","match","is-completed","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(d).level3[l].playerAResultIsValid&&(0,L.SU)(d).level3[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ft,kt))])))),128))],2)):(0,t.kq)("",!0)])])):(0,t.kq)("",!0),(0,t._)("div",Ut,[(0,L.SU)(n)?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-secondary btn-lg",onClick:g}," Przejdź do półfinałów ")):(0,t.kq)("",!0),(0,L.SU)(i)?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-secondary btn-lg",onClick:h}," Przejdź do finału ")):(0,t.kq)("",!0),(0,L.SU)(c)?((0,t.wg)(),(0,t.iD)("button",{key:2,class:"btn btn-secondary btn-lg",onClick:b}," Zakończ turniej ")):(0,t.kq)("",!0)])],64))}});const Rt=Vt;var It=Rt;function St(e,l){e.forEach((e=>{const a=l.findIndex((l=>l.name===e.player_a)),s=l.findIndex((l=>l.name===e.player_b));e.player_a_score>e.player_b_score?(l[a].matches++,l[a].wins++,l[a].scoredGoals=l[a].scoredGoals+e.player_a_score,l[a].lostGoals=l[a].lostGoals+e.player_b_score,l[s].matches++,l[s].lost++,l[s].scoredGoals=l[s].scoredGoals+e.player_b_score,l[s].lostGoals=l[s].lostGoals+e.player_a_score):e.player_a_score<e.player_b_score?(l[s].matches++,l[s].wins++,l[s].scoredGoals=l[s].scoredGoals+e.player_b_score,l[s].lostGoals=l[s].lostGoals+e.player_a_score,l[a].matches++,l[a].lost++,l[a].scoredGoals=l[a].scoredGoals+e.player_a_score,l[a].lostGoals=l[a].lostGoals+e.player_b_score):e.player_a_score===e.player_b_score&&(l[a].matches++,l[a].draws++,l[a].scoredGoals=l[a].scoredGoals+e.player_a_score,l[a].lostGoals=l[a].lostGoals+e.player_b_score,l[s].matches++,l[s].draws++,l[s].scoredGoals=l[s].scoredGoals+e.player_b_score,l[s].lostGoals=l[s].lostGoals+e.player_a_score),l[a].aggregateScore=l[a].scoredGoals-l[a].lostGoals,l[a].points=3*l[a].wins+1*l[a].draws,l[s].aggregateScore=l[s].scoredGoals-l[s].lostGoals,l[s].points=3*l[s].wins+1*l[a].draws})),l.sort(((e,l)=>e.points!==l.points?l.points-e.points:e.points===l.points&&e.aggregateScore===l.aggregateScore?l.scoredGoals-e.scoredGoals:l.aggregateScore-e.aggregateScore))}var Ct=St;const zt={key:0,class:"container p-5 border"},Bt={class:"title"},xt={class:"d-flex flex-row gap-3 description"},At={class:"switch-stage-buttons btn-group"},Dt={key:0,class:"group-stage"},Mt={class:"firstTablesRow row my-5"},Pt={class:"group1 col-6"},Gt=(0,t._)("h5",{class:"fw-bold mb-4"},"Tabela - Grupa 1",-1),Nt={class:"table table-league"},jt={class:"group2 col-6"},qt=(0,t._)("h5",{class:"fw-bold mb-4"},"Tabela - Grupa 2",-1),Ht={class:"table table-league"},Ft={key:0,class:"secondTablesRow row my-5"},Wt={class:"group3 col-6"},Et=(0,t._)("h5",{class:"fw-bold mb-4"},"Tabela - Grupa 3",-1),Tt={class:"table table-league"},Zt={class:"group4 col-6"},Ot=(0,t._)("h5",{class:"fw-bold mb-4"},"Tabela - Grupa 4",-1),Yt={class:"table table-league"},Kt={class:"firstMatchesRow row my-5"},Jt={class:"group1 col-6"},Lt=(0,t._)("h5",{class:"fw-bold mb-4"},"Mecze - Grupa 1",-1),$t={key:0,class:"error-message col-12 my-1"},Xt=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik lub brak wyniku ",-1),Qt=[Xt],er={class:"group2 col-6"},lr=(0,t._)("h5",{class:"fw-bold mb-4"},"Mecze - Grupa 2",-1),ar={key:0,class:"error-message col-12 my-1"},sr=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik lub brak wyniku ",-1),tr=[sr],rr={key:1,class:"secondMatchesRow row my-5"},or={class:"group3 col-6"},ur=(0,t._)("h5",{class:"fw-bold mb-4"},"Mecze - Grupa 3",-1),nr={key:0,class:"error-message col-12 my-1"},ir=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik lub brak wyniku ",-1),cr=[ir],pr={class:"group4 col-6"},dr=(0,t._)("h5",{class:"fw-bold mb-4"},"Mecze - Grupa 4",-1),vr={key:0,class:"error-message col-12 my-1"},yr=(0,t._)("span",{class:"text-danger"}," Wprowadzono niepoprawny wynik lub brak wyniku ",-1),_r=[yr],mr={key:1,class:"play-off"},gr={class:"end-button"};var hr=(0,t.aZ)({__name:"GroupTournament",setup(e){const l=(0,se.hJ)(ae,"group-play-off"),a=(0,se.hJ)(ae,"users");let s="";const r=(0,S.yj)();let o=(0,L.iH)({}),u=(0,L.iH)([]),n=(0,L.iH)(!0),i=(0,L.iH)({group1:[],group2:[],group3:[],group4:[]}),c=(0,L.iH)(!0);function p(e){"group"===e&&(c.value=!0),"playoff"===e&&(c.value=!1)}function d(e){if(0===e||1===e)return"table-primary"}const v={name:"",matches:0,wins:0,draws:0,lost:0,scoredGoals:0,lostGoals:0,aggregateScore:0,points:0};let y=(0,L.iH)([]),_=(0,L.iH)([]),m=(0,L.iH)([]),g=(0,L.iH)([]),h=!1,b=!1,f=(0,L.iH)([]),w=(0,L.iH)([]);function k(){f.value.push(y.value[0].name,_.value[0].name),0!==o.value.groupMatches.group3.length&&f.value.push(m.value[0].name),0!==o.value.groupMatches.group4.length&&f.value.push(g.value[0].name)}function U(){w.value.push(y.value[1].name,_.value[1].name),0!==o.value.groupMatches.group3.length&&w.value.push(m.value[1].name),0!==o.value.groupMatches.group4.length&&w.value.push(g.value[1].name)}function V(){o.value.playOffPlayers=f.value.concat(w.value),re(f.value),re(w.value);let e=[];for(let l=0;l<f.value.length;l++){let a={player_a:f.value[l],player_b:w.value[l],player_a_score:NaN,player_b_score:NaN,is_played:!1};e.push(a)}4===f.value.length?o.value.playOffMatches.level1=e:2===f.value.length&&(o.value.playOffMatches.level2=e,o.value.playOffMatches.level1IsCompleted=!0)}function R(){let e=[];o.value.groupPlayers.group1.forEach((l=>{let a={...v};a.name=l,e.push(a)})),y.value=e,e=[],o.value.groupPlayers.group2.forEach((l=>{let a={...v};a.name=l,e.push(a)})),_.value=e,e=[],o.value.groupPlayers.group3.forEach((l=>{let a={...v};a.name=l,e.push(a)})),m.value=e,e=[],o.value.groupPlayers.group4.forEach((l=>{let a={...v};a.name=l,e.push(a)})),g.value=e,e=[]}function I(){Ct(o.value.groupMatches.group1,y.value),Ct(o.value.groupMatches.group2,_.value),0!==o.value.groupPlayers.group3.length&&Ct(o.value.groupMatches.group3,m.value),0!==o.value.groupPlayers.group4.length&&Ct(o.value.groupMatches.group4,g.value)}function C(e,l){if(M(e,l),!n.value)return;"group1"===l&&(o.value.groupMatches.group1[e].is_played=!0),"group2"===l&&(o.value.groupMatches.group2[e].is_played=!0),"group3"===l&&(o.value.groupMatches.group3[e].is_played=!0),"group4"===l&&(o.value.groupMatches.group4[e].is_played=!0);const a=o.value.groupMatches.group1.every((e=>!0===e.is_played)),t=o.value.groupMatches.group2.every((e=>!0===e.is_played)),r=o.value.groupMatches.group3.every((e=>!0===e.is_played)),u=o.value.groupMatches.group4.every((e=>!0===e.is_played));a&&t&&r&&u&&(b=!0),"string"===typeof s&&B(s)}function z(e,l){"group1"===l&&(o.value.groupMatches.group1[e].is_played=!1),"group2"===l&&(o.value.groupMatches.group2[e].is_played=!1),"group3"===l&&(o.value.groupMatches.group3[e].is_played=!1),"group4"===l&&(o.value.groupMatches.group4[e].is_played=!1)}async function B(e){await(0,se.r7)((0,se.JU)(l,e),{is_completed:o.value.isCompleted,group_stage_is_completed:o.value.groupStageIsCompleted,group_matches:o.value.groupMatches,play_off_matches:o.value.playOffMatches,play_off_players:o.value.playOffPlayers})}function x(){o.value.isCompleted=!0,"string"===typeof s&&B(s),h=!1,window.scrollTo(0,0)}function A(){o.value.groupStageIsCompleted=!0,k(),U(),V(),"string"===typeof s&&B(s),b=!1,c.value=!1,window.scrollTo(0,0)}function D(){let e=[],l=[],a=[],s=[];o.value.groupMatches.group1.forEach((()=>{let l={playerAResultIsValid:!0,playerBResultIsValid:!0};e.push(l)})),i.value.group1=e,o.value.groupMatches.group2.forEach((()=>{let e={playerAResultIsValid:!0,playerBResultIsValid:!0};l.push(e)})),i.value.group2=l,0!==o.value.groupMatches.group3.length&&(o.value.groupMatches.group3.forEach((()=>{let e={playerAResultIsValid:!0,playerBResultIsValid:!0};a.push(e)})),i.value.group3=a),0!==o.value.groupMatches.group4.length&&(o.value.groupMatches.group4.forEach((()=>{let e={playerAResultIsValid:!0,playerBResultIsValid:!0};s.push(e)})),i.value.group4=s)}function M(e,l){n.value=!0,"group1"!==l||Number.isInteger(o.value.groupMatches.group1[e].player_a_score)||(n.value=!1,i.value.group1[e].playerAResultIsValid=!1),"group1"!==l||Number.isInteger(o.value.groupMatches.group1[e].player_b_score)||(n.value=!1,i.value.group1[e].playerBResultIsValid=!1),"group2"!==l||Number.isInteger(o.value.groupMatches.group2[e].player_a_score)||(n.value=!1,i.value.group2[e].playerAResultIsValid=!1),"group2"!==l||Number.isInteger(o.value.groupMatches.group2[e].player_b_score)||(n.value=!1,i.value.group2[e].playerBResultIsValid=!1),"group3"!==l||Number.isInteger(o.value.groupMatches.group3[e].player_a_score)||(n.value=!1,i.value.group3[e].playerAResultIsValid=!1),"group3"!==l||Number.isInteger(o.value.groupMatches.group3[e].player_b_score)||(n.value=!1,i.value.group3[e].playerBResultIsValid=!1),"group4"!==l||Number.isInteger(o.value.groupMatches.group4[e].player_a_score)||(n.value=!1,i.value.group4[e].playerAResultIsValid=!1),"group4"!==l||Number.isInteger(o.value.groupMatches.group4[e].player_b_score)||(n.value=!1,i.value.group4[e].playerBResultIsValid=!1)}function P(e,l){"group1"===l&&(i.value.group1[e].playerAResultIsValid=!0),"group2"===l&&(i.value.group2[e].playerAResultIsValid=!0),"group3"===l&&(i.value.group3[e].playerAResultIsValid=!0),"group4"===l&&(i.value.group4[e].playerAResultIsValid=!0)}function G(e,l){"group1"===l&&(i.value.group1[e].playerBResultIsValid=!0),"group2"===l&&(i.value.group2[e].playerBResultIsValid=!0),"group3"===l&&(i.value.group3[e].playerBResultIsValid=!0),"group4"===l&&(i.value.group4[e].playerBResultIsValid=!0)}function N(){(0,se.cf)(a,(e=>{e.forEach((e=>{const l={id:e.id,name:e.data().name,email:e.data().email};u.value.push(l)}))}))}function j(e){(0,se.cf)((0,se.JU)(ae,"group-play-off",e),(e=>{o.value={name:e.data()?.name,date:Ce(e.data()?.date?.seconds),id:e.id,user:u.value.find((l=>l.id===e.data()?.user_uuid)),players:e.data()?.players,groupMatches:e.data()?.group_matches,groupPlayers:e.data()?.group_players,groupStageIsCompleted:e.data()?.group_stage_is_completed,playOffMatches:e.data()?.play_off_matches,playOffPlayers:e.data()?.play_off_players,isCompleted:e.data()?.is_completed},R(),D(),I()}))}return(0,t.bv)((async()=>{s=r.params.id,N(),"string"===typeof s&&j(s)})),(e,l)=>Object.keys((0,L.SU)(o))&&Object.keys((0,L.SU)(o)).length?((0,t.wg)(),(0,t.iD)("div",zt,[(0,t._)("div",Bt,[(0,t._)("div",xt,[(0,t._)("p",null,"Data utworzenia: "+(0,Ie.zw)((0,L.SU)(o).date),1),(0,t._)("p",null,"Utworzył: "+(0,Ie.zw)((0,L.SU)(o).user?.name),1),(0,t._)("p",null," Status: "+(0,Ie.zw)((0,L.SU)(o).isCompleted?"Zakończony":"Aktywny"),1)]),(0,t._)("h1",null,"Turniej: "+(0,Ie.zw)((0,L.SU)(o).name),1),(0,t._)("div",At,[(0,t._)("button",{type:"button",class:(0,Ie.C_)(["btn btn-outline-secondary",{active:(0,L.SU)(c)}]),onClick:l[0]||(l[0]=e=>p("group"))}," Faza grupowa ",2),(0,t._)("button",{type:"button",class:(0,Ie.C_)(["btn btn-outline-secondary",{active:!(0,L.SU)(c),disabled:!(0,L.SU)(o).groupStageIsCompleted}]),onClick:l[1]||(l[1]=e=>p("playoff"))}," Faza pucharowa ",2)])]),(0,L.SU)(c)?((0,t.wg)(),(0,t.iD)("div",Dt,[(0,t._)("div",Mt,[(0,t._)("div",Pt,[Gt,(0,t._)("table",Nt,[(0,t._)("thead",null,[(0,t.Wm)(Rs)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(y),((e,l)=>((0,t.wg)(),(0,t.iD)("tbody",{class:(0,Ie.C_)(d(l)),key:l},[(0,t.Wm)(Bs,{index:l,player:e,onTableColors:e=>d(l)},null,8,["index","player","onTableColors"])],2)))),128))])]),(0,t._)("div",jt,[qt,(0,t._)("table",Ht,[(0,t._)("thead",null,[(0,t.Wm)(Rs)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(_),((e,l)=>((0,t.wg)(),(0,t.iD)("tbody",{class:(0,Ie.C_)(d(l)),key:l},[(0,t.Wm)(Bs,{index:l,player:e,onTableColors:e=>d(l)},null,8,["index","player","onTableColors"])],2)))),128))])])]),0!==(0,L.SU)(o).groupPlayers.group3.length?((0,t.wg)(),(0,t.iD)("div",Ft,[(0,t._)("div",Wt,[Et,(0,t._)("table",Tt,[(0,t._)("thead",null,[(0,t.Wm)(Rs)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(m),((e,l)=>((0,t.wg)(),(0,t.iD)("tbody",{class:(0,Ie.C_)(d(l)),key:l},[(0,t.Wm)(Bs,{index:l,player:e,onTableColors:e=>d(l)},null,8,["index","player","onTableColors"])],2)))),128))])]),(0,t._)("div",Zt,[Ot,(0,t._)("table",Yt,[(0,t._)("thead",null,[(0,t.Wm)(Rs)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(g),((e,l)=>((0,t.wg)(),(0,t.iD)("tbody",{class:(0,Ie.C_)(d(l)),key:l},[(0,t.Wm)(Bs,{index:l,player:e,onTableColors:e=>d(l)},null,8,["index","player","onTableColors"])],2)))),128))])])])):(0,t.kq)("",!0),(0,t._)("div",Kt,[(0,t._)("div",Jt,[Lt,(0,t.Wm)(Ns),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(o).groupMatches.group1,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-1",key:l},[(0,t.Wm)(Js,{index:l,match:e,"is-completed":(0,L.SU)(o).groupStageIsCompleted,group:"group1",onRestoreMatch:e=>z(l,"group1"),onUpdateMatch:e=>C(l,"group1"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(i)?.group1[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(i)?.group1[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>P(l,"group1"),onClearPlayerBResultValidation:e=>G(l,"group1")},null,8,["index","match","is-completed","onRestoreMatch","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(i).group1[l].playerAResultIsValid&&(0,L.SU)(i).group1[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",$t,Qt))])))),128))]),(0,t._)("div",er,[lr,(0,t.Wm)(Ns),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(o).groupMatches.group2,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-1",key:l},[(0,t.Wm)(Js,{index:l,match:e,"is-completed":(0,L.SU)(o).groupStageIsCompleted,group:"group2",onRestoreMatch:e=>z(l,"group2"),onUpdateMatch:e=>C(l,"group2"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(i)?.group2[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(i)?.group2[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>P(l,"group2"),onClearPlayerBResultValidation:e=>G(l,"group2")},null,8,["index","match","is-completed","onRestoreMatch","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(i).group2[l].playerAResultIsValid&&(0,L.SU)(i).group2[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ar,tr))])))),128))])]),0!==(0,L.SU)(o).groupPlayers.group3.length?((0,t.wg)(),(0,t.iD)("div",rr,[(0,t._)("div",or,[ur,(0,t.Wm)(Ns),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(o).groupMatches.group3,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-1",key:l},[(0,t.Wm)(Js,{index:l,match:e,"is-completed":(0,L.SU)(o).groupStageIsCompleted,group:"group3",onRestoreMatch:e=>z(l,"group3"),onUpdateMatch:e=>C(l,"group3"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(i)?.group3[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(i)?.group3[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>P(l,"group3"),onClearPlayerBResultValidation:e=>G(l,"group3")},null,8,["index","match","is-completed","onRestoreMatch","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(i).group3[l].playerAResultIsValid&&(0,L.SU)(i).group3[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",nr,cr))])))),128))]),(0,t._)("div",pr,[dr,(0,t.Wm)(Ns),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,L.SU)(o).groupMatches.group4,((e,l)=>((0,t.wg)(),(0,t.iD)("form",{class:"row my-1",key:l},[(0,t.Wm)(Js,{index:l,match:e,"is-completed":(0,L.SU)(o).groupStageIsCompleted,group:"group4",onRestoreMatch:e=>z(l,"group4"),onUpdateMatch:e=>C(l,"group4"),"result-a":e.player_a_score,"onUpdate:resultA":l=>e.player_a_score=l,"result-b":e.player_b_score,"onUpdate:resultB":l=>e.player_b_score=l,"player-a-result-is-valid":(0,L.SU)(i)?.group4[l].playerAResultIsValid,"player-b-result-is-valid":(0,L.SU)(i)?.group4[l].playerBResultIsValid,onClearPlayerAResultValidation:e=>P(l,"group4"),onClearPlayerBResultValidation:e=>G(l,"group4")},null,8,["index","match","is-completed","onRestoreMatch","onUpdateMatch","result-a","onUpdate:resultA","result-b","onUpdate:resultB","player-a-result-is-valid","player-b-result-is-valid","onClearPlayerAResultValidation","onClearPlayerBResultValidation"]),(0,L.SU)(i).group4[l].playerAResultIsValid&&(0,L.SU)(i).group4[l].playerBResultIsValid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",vr,_r))])))),128))])])):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",mr,[(0,t.Wm)(It)])),(0,t._)("div",gr,[(0,L.SU)(h)?((0,t.wg)(),(0,t.iD)("button",{key:0,class:"btn btn-secondary btn-lg",onClick:l[2]||(l[2]=e=>x())}," Zakończ turniej ")):(0,t.kq)("",!0),(0,L.SU)(b)?((0,t.wg)(),(0,t.iD)("button",{key:1,class:"btn btn-secondary btn-lg",onClick:l[3]||(l[3]=e=>A())}," Zakończ fazę grupową i przejdź do pucharowej ")):(0,t.kq)("",!0)])])):(0,t.kq)("",!0)}});const br=hr;var fr=br;const wr=[{path:"/",name:"home",component:J},{path:"/league",name:"league",component:Re},{path:"/league/list",name:"leagueList",component:Fe},{path:"/league/:id",name:"leagueTournament",component:ml},{path:"/cup",name:"cup",component:Gl},{path:"/cup/list",name:"cupList",component:Jl},{path:"/cup/:id",name:"cupTorunament",component:Aa},{path:"/group-play-off",name:"group",component:Xa},{path:"/group-play-off/list",name:"groupList",component:ps},{path:"/group-play-off/:id",name:"groupTournament",component:fr}],kr=(0,S.p7)({history:(0,S.PO)("/appilikula/"),routes:wr});var Ur=kr,Vr=a(65),Rr=(0,Vr.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});a(2166);(0,s.ri)(I).use(Rr).use(Ur).mount("#app")}},l={};function a(s){var t=l[s];if(void 0!==t)return t.exports;var r=l[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(l,s,t,r){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],t=e[c][1],r=e[c][2];for(var u=!0,n=0;n<s.length;n++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(u=!1,r<o&&(o=r));if(u){e.splice(c--,1);var i=t();void 0!==i&&(l=i)}}return l}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,t,r]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){a.d=function(e,l){for(var s in l)a.o(l,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:l[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(l){return 0===e[l]};var l=function(l,s){var t,r,o=s[0],u=s[1],n=s[2],i=0;if(o.some((function(l){return 0!==e[l]}))){for(t in u)a.o(u,t)&&(a.m[t]=u[t]);if(n)var c=n(a)}for(l&&l(s);i<o.length;i++)r=o[i],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},s=self["webpackChunkappilikula_front"]=self["webpackChunkappilikula_front"]||[];s.forEach(l.bind(null,0)),s.push=l.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9447)}));s=a.O(s)})();
//# sourceMappingURL=app.11bd5dff.js.map